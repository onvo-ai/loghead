<!DOCTYPE html>
<html>

<head>
  <style>
    body {
      width: 300px;
      font-family: sans-serif;
      padding: 10px;
    }

    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }

    input {
      width: 100%;
      box-sizing: border-box;
      padding: 5px;
      margin-top: 5px;
    }

    button {
      margin-top: 15px;
      padding: 8px;
      width: 100%;
      background: #333;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 6px;
    }

    button:hover {
      background: #555;
    }

    .status {
      margin-top: 10px;
      font-size: 0.9em;
      color: #666;
    }
  </style>
</head>

<body>
  <!-- Step 1: Connection -->
  <div id="step1">
    <label for="serverUrl">Server URL</label>
    <input type="text" id="serverUrl" value="http://localhost:4567" placeholder="http://localhost:4567">
    <button id="nextBtn" style="margin-top: 5px; padding: 5px;">Next</button>
  </div>

  <!-- Step 2: Configuration -->
  <div id="step2" style="display: none;">
    <label for="projectSelect">Project</label>
    <select id="projectSelect" style="width: 100%; padding: 5px; margin-top: 5px;">
      <option value="" disabled selected>Select a Project</option>
    </select>

    <label for="streamSelect">Stream</label>
    <select id="streamSelect" style="width: 100%; padding: 5px; margin-top: 5px;">
      <option value="" disabled selected>Select a Browser Stream</option>
      <option value="new">-- Create New Stream --</option>
    </select>

    <div id="newStreamSection"
      style="display: none; margin-top: 10px; border-left: 2px solid #ccc; padding-left: 10px;">
      <label for="newStreamName">New Stream Name</label>
      <input type="text" id="newStreamName" placeholder="e.g. Chrome Debugging">
      <button id="createStreamBtn" style="margin-top: 5px; padding: 5px;">Create</button>
    </div>

    <button id="connectBtn" style="margin-top: 15px; display: block;">Connect</button>
  </div>

  <!-- Step 3: Connected -->
  <div id="step3" style="display: none; text-align: center;">
    <div style="margin: 20px 0; color: green; font-weight: bold;">‚óè Connected</div>
    <div id="connectedInfo" style="font-size: 0.8em; color: #666; margin-bottom: 15px;"></div>
    <button id="disconnectBtn" style="background: #cc0000;">Disconnect</button>
  </div>

  <div class="status" id="status"></div>

  <script type="module" src="popup.js"></script>
</body>

</html>